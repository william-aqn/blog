---
layout: post
title: "Меняем регион у ASUS роутера"
description: "Разблокируем частоты и увеличиваем мощность"
tags: hack
---
# Меняем регион у ASUS роутера

Что бы нормально работать с санкционными роутерами, нужно поменять его регион.
Первым делом скачиваем прошивку от [merlin](https://www.asuswrt-merlin.net/download) для своей модели роутера.
Включаем доступ по ssh в настройках роутера.
Заходим по ssh и вводим команды


Создаём файл **/jffs/scripts/init-start** в котором будет меняться регион на **US**, можно постаить **#a** - разблокируется вообще всё, но говорят не очень стабильно это.
```sh
nvram set location_code=US
nvram commit
service restart_wireless
```

Далее добавляем этот файл в автозапуск скриптов роутера
```sh
nvram set jffs2_exec=/jffs/scripts/init-start
nvram set jffs2_scripts=1
nvram commit
reboot
```

После перезагрузки проверяем мощность 
```sh
wl txpwr_target_max
> Maximum Tx Power Target (chanspec:0x1908):      24.00  24.00  24.00  24.00
```

И регион 
```sh
nvram get location_code
> US
```

Пример [заводского конфига](/assets/blog/asus/nvram.txt)

Различные изыскания можно почитать [тут](https://gist.github.com/francoism90/3dede7973354d067c41bff5e54203fe9)
И отличная [статья по измерению мощности на всех каналах](https://urouter.ru/lab/tx-power.html)


Или пишите в ЛС [@CrashXRU](https://t.me/CrashXRU), у него есть приватный способ сделать всё правильно, но делает только сам.

Так же наставление как делать правильный костыль:
```
пишем в nvram 
CCODE + REV
каналы и ширину если они отличаются от евро
перезапускаем радио модуль
далее проверяем через WL если СС+REV те то проверяем канал, если тот то пропускаем
Если нет, то выключаем модуль ставим нужные параметры и включаем уже модуль и не службу модулей

тогда все будет работать до перезагрузки

но менять настройки радиомодулей НЕЛЬЗЯ
поменяли что то не важное, перезагрузили роутер

трогать прошивку нельзя, пытаться записать нельзя все потому что прошивка плоская, те она упакована и только ro сделать ее RW нельзя ну никак, вообще никак, это особеность таких прошивок
```